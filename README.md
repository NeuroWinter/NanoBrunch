This is a modified version of a submition for a Twitter image encoding challenge found here:
https://stackoverflow.com/a/929360
